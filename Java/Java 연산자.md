# Java 연산자

---

연산자는 '연산을 수행하는 기호'를 말한다. Java에서는 사칙연산(+, -, *, /)을 비롯해서 다양한 연산자를 제공한다. 연산자가 연산을 수행하려면 반드시 연산의 대상이 있어야하는데, 이것을 '피연산자(operand)'라고 한다.

## 연산자

* 연산자의 종류

  |    종류     |            연산자             |                     설명                      |
  | :---------: | :---------------------------: | :-------------------------------------------: |
  | 산술 연산자 | `+` `-` `*` `/` `%` `<<` `>>` |          사친 연산과 나머지 연산(%)           |
  | 비교 연산자 |  `>` `<` `>=` `<=` `==` `!=`  |         크고 작음과 같고 다름을 비교          |
  | 논리 연산자 | `&&` `||` `!` `&` `|` `^` `~` |  '그리고(AND)'와 '또는(OR)'으로 조건을 연결   |
  | 대입 연산자 |              `=`              |            우변의 값을 좌변에 저장            |
  |    기 타    |  `(type)` `?:` `instanceof`   | 형변환 연산자, 삼항 연산자, instanceof 연산자 |

> 피연산자의 개수로 연산자를 분류하기도 한다.
>
> * 단항 연산자 : 피연산자의 개수가 한 개.
> * 이항 연산자 : 피연산자의 개수가 두 개.
> * 삼항 연산자 : 피연산자의 개수가  세 개.

* 연산자의 우선순위

  > 산술 > 비교 > 논리 > 대입

  |         식          |                             설명                             |
  | :-----------------: | :----------------------------------------------------------: |
  |       -x + 3        | 단항 연산자가 이항 연산자보다 우선순위가 높기 때문에 x의 부호를 바꾼 다음 덧셈이 수행된다. |
  |      x + 3 * y      | 곱셈과 나눗셈이 덧셈과 뺄셈보다 우선순위가 높다. 그래서 '3 * y' 가 먼저 계산된다. |
  |    x + 3 > y - 2    | 비교 연산자(>)보다 산술 연산자 '+' 와 '-' 가 먼저 수행된다. 그래서 'x + 3' 과 'y - 2'가 먼저 계산된 다음에 '>'가 수행된다. |
  |   x > 3 && x < 5    | 논리 연산자 '&&'보다 비교 연산자가 먼저 수행된다. 그래서 'x > 3' 와 'x < 5'가 먼저 계산된 다음에 '&&'가 수행된다. 식의 의미는 'x가 3보다 크고 5보다 작다' 이다. |
  | result = x + y * 3; | 대입 연산자는 연산자 중에서 제일 우선순위가 낮다. 그래서 우변의 최종 연산결과가 result에 저장된다. |

* 연산자의 결합규칙

  * 연산자의 결합 규칙이 왼쪽에서 오른쪽인 경우

    `3 + 4 - 5`

  * 연산자의 결합 규칙이 오른쪽에서 외쪽인 경우
    `x = y = 3`

* 증감 연산자

  > 증가 연산자(++) : 피연산자의 값을 1 증가시킨다.
  > 감소 연산자(--) : 피연산자의 값을 1 감소시킨다.

  |  타입  |              설명              |  사용예  |
  | :----: | :----------------------------: | :------: |
  | 전위형 | 값이 참조되기 전에 증가시킨다. | j = ++i; |
  | 후위형 |  값이 참조된 후에 증가시킨다.  | j = i++; |

  > **전위형**
  >
  > ```java
  > j = ++i; -->  ++i;		 // 증가 후에
  > 		     j = i; 	// 참조하여 대입
  > ```

  > **후위형**
  >
  > ```java
  > j = ++i; -->  j = i;	// 참조하여 대입 후에
  >               ++i;		// 증가
  > ```

* 부호 연산자

  `-` : 피연산자의 부호를 반대로 변경한 결과를 반환한다.

* 형변환 연산자

  > 형변환(casting) : 변수 또는 상수의 타입을 다른 타입으로 변환하는 것

  형변환하고자 하는 변수나 리터럴의 앞에 변화하고자 하는 타입을 괄호와 함께 붙여주기만 하면 된다.

  > (타입)피연산자

  자동 형변환은 기존의 값을 최대한 보존할 수 있는 타입으로 자동 형변환된다. 표현 범위가 좁은 타입에서 넓은 타입으로 형변환하는 경우에는 값 손실이 없지만 반대의 경우에 형변환을 생략하면 에러가 생긴다.

  > `byte` ---> `short` ---> `int` ---> `long` ---> `float` ---> `double`
  > 			   	`char` -------^

  화살표 방향으로의 변환은 형변화 연산자를 사용하지 않아도 자동 형변환이 된다. 반대의 경우에는 형변환 연산자를 생략할 수 없다.

* 사칙 연산자

  ```
  import java.util.Scanner; 						// Scanner클래스를 사용하기 위해 추가
  public class Test {
  	public static void main(String[] args) {
  		int a = 10;
  		int b = 4;
  		System.out.println("%d + %d = %d%n", a, b, a + b);
  		System.out.println("%d - %d = %d%n", a, b, a - b);
  		System.out.println("%d * %d = %d%n", a, b, a * b);
  		System.out.println("%d / %d = %d%n", a, b, a / b);
  	}
  }
  ```

* 반올림하기

  Math.round()를 사용하면 된다. 이 메서드는 소수점 첫째 자리에서 반올림한 결과를 정수로 반환한다.

* 나머지 연산자

  나머지 연산자는 왼쪽의 피연산자를 오른쪽 피연산자로 나누고 난 나머지 값을 결과로 반환한다. 나누는 수로 0을 사용할 수 없고, 피연산자로 정수와 실수를 허용한다. 부호는 무시되므로 음수로 나누었을 경우 절대값으로 나눈 나머지와 결과에 음수 부호를 붙이면 된다.

* 비교 연산자

  * 대소비교 연산자

    | 비교연산자 |                  연산결과                  |
    | :--------: | :----------------------------------------: |
    |     >      |     좌변 값이 크면, true 아니면 false      |
    |     <      |    좌변 값이 작으면, true 아니면 false     |
    |     >=     | 좌변 값이 크거나 같으면, true 아니면 false |
    |     <=     | 좌변 값이 작거나 같으면, true 아니면 false |

  * 등가비교 연산자

    | 비교연산자 |             연산결과              |
    | :--------: | :-------------------------------: |
    |     ==     | 두 값이 같으면, true 아니면 false |
    |     !=     | 두 값이 다르면, true 아니면 false |

  * 문자열의 비교

    두 문자열을 비교할 때는, 비교 연산자 `==` 대신 `equals()`라는 메서드를 사용해야 한다. 비교 연산자는 두 문자열이 완전히 같은 것인지 비교할 뿐이므로, 문자열의 내용이 같은지 비교하기 위해서는  `equals()`를 사용하는 것이다. 

  * 논리 연산자

    > **`||` (OR결합)** : 피연산자 중 어느 한 쪽이  true이면 true를 결과로 얻는다.
    >
    > **`&& (AND결합)`** : 피연산자 양쪽 모두  true이면 true를 결과로 얻는다.

    |  `X`  |  `Y`  | `X||Y` | `X&&Y` |
    | :---: | :---: | :----: | :----: |
    | true  | true  |  true  |  true  |
    | true  | false |  true  | false  |
    | false | true  |  true  | false  |
    | false | false | false  | false  |

  * 논리 부정 연산자

    > **`!`** : 피연산자가 true면 false를, false면 true를 결과로 반환한다.

    |  `X`  | `!X`  |
    | :---: | :---: |
    | true  | false |
    | false | true  |

    > `!!b` --> `!!true` --> `!false` --> `true`

  * 조건 연산자

  * 대입 연산자

    대입 연산자는 변수와 같은 저장공간에 값 또는 수식의 연산결과를 저장하는데 사용된다. 오른쪽 피연산자의 값을 왼쪽 피연산자에 저장한다. 그릭고 저장된 값을 연산결과로 반환한다. 대입 연산자의 왼쪽 피연산자를 'lvalue(left value)'이라 하고, 오른쪽 피연산자를 'rvalue(right value)'라고 한다. lvalue는 반드시 변수처럼 값을 변경할 수 있는 것이어야 한다. 그래서 리터럴이나 상수같이 값을 저장할 수 없는 것들은 lvalue가 될 수 없다.

  * 복합 대입 연산자

    대입 연산자는 다른 연산자(op)와 결합하여 `op=`와 같은 방식으로 사용될 수 있다.

    |     op=      |        =        |
    | :----------: | :-------------: |
    |    i +=3;    |   i = i + 3;    |
    |   i -= 3;    |   i = i - 3;    |
    |   i *= 3;    |   i = i * 3;    |
    |   i /= 3;    |   i = i / 3;    |
    |    i %=3;    |   i = i % 3;    |
    |   i <<= 3;   |   i = i << 3;   |
    |   i >>= 3;   |   i = i >> 3;   |
    |    i &=3;    |   i = i & 3;    |
    |    i ^=3;    |   i = i \| 3;   |
    |   i \|= 3;   |   i = i \| 3;   |
    | i *= 10 + j; | i = i * (10+j); |